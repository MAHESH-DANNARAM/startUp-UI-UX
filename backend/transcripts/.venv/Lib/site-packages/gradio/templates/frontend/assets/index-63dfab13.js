import{S as Z,e as x,s as J,J as H,K as f,p as T,M as N,n as E,A as q,N as F,O,P as ae,k as j,T as se,Z as je,U as me,o as U,Q as z,aj as Ue,af as he,Y as Me,X as Se,u as G,v as p,y as Q,z as g,R as _e,x as M,a1 as Ce,B as ce,a6 as Ee,aB as Pe,F as y,h as ve,m as le,j as Re,t as ze,a9 as Fe,ab as Ae,ac as De,ad as Ie,al as Oe,a7 as Xe,E as Le,ae as He,q as Je,r as Ke}from"./index-1a7ceb13.js";import{n as be}from"./ModifyUpload.svelte_svelte_type_style_lang-d2acacf0.js";import{B as We}from"./Button-9ec32778.js";import{U as Ge}from"./Upload-ec9203f3.js";import{M as Qe}from"./ModifyUpload-8c29caf5.js";import{B as ye}from"./BlockLabel-be814944.js";import{U as Ye,W as Ze}from"./StaticImage.svelte_svelte_type_style_lang-5934ac79.js";import{I as xe}from"./IconButton-a2220c08.js";import{E as $e}from"./Empty-48fd1ff5.js";import{u as el,S as ll}from"./ShareButton-19078652.js";import{D as tl}from"./Download-a017b890.js";import{U as nl}from"./UploadText-b09a26a4.js";import"./Blocks-7b1f1558.js";function al(n){let e,t;return{c(){e=H("svg"),t=H("path"),f(t,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"width","100%"),f(e,"height","100%"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","1.5"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round")},m(l,a){T(l,e,a),N(e,t)},p:E,i:E,o:E,d(l){l&&q(e)}}}class ol extends Z{constructor(e){super(),x(this,e,null,al,J,{})}}function rl(n){let e,t,l;return{c(){e=H("svg"),t=H("rect"),l=H("rect"),f(t,"x","6"),f(t,"y","4"),f(t,"width","4"),f(t,"height","16"),f(l,"x","14"),f(l,"y","4"),f(l,"width","4"),f(l,"height","16"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"width","100%"),f(e,"height","100%"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","1.5"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round")},m(a,o){T(a,e,o),N(e,t),N(e,l)},p:E,i:E,o:E,d(a){a&&q(e)}}}class il extends Z{constructor(e){super(),x(this,e,null,rl,J,{})}}function ul(n){let e,t;return{c(){e=H("svg"),t=H("polygon"),f(t,"points","5 3 19 12 5 21 5 3"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"width","100%"),f(e,"height","100%"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","1.5"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round")},m(l,a){T(l,e,a),N(e,t)},p:E,i:E,o:E,d(l){l&&q(e)}}}class sl extends Z{constructor(e){super(),x(this,e,null,ul,J,{})}}function fl(n){let e,t,l;return{c(){e=H("svg"),t=H("polygon"),l=H("rect"),f(t,"points","23 7 16 12 23 17 23 7"),f(l,"x","1"),f(l,"y","5"),f(l,"width","15"),f(l,"height","14"),f(l,"rx","2"),f(l,"ry","2"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"width","100%"),f(e,"height","100%"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","1.5"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round"),f(e,"class","feather feather-video")},m(a,o){T(a,e,o),N(e,t),N(e,l)},p:E,i:E,o:E,d(a){a&&q(e)}}}class de extends Z{constructor(e){super(),x(this,e,null,fl,J,{})}}const ge=n=>{let e=["B","KB","MB","GB","PB"],t=0;for(;n>1024;)n/=1024,t++;let l=e[t];return n.toFixed(1)+" "+l},_l=()=>!0;function cl(n,{autoplay:e}){async function t(){e&&await n.play()}return n.addEventListener("loadeddata",t),{destroy(){n.removeEventListener("loadeddata",t)}}}const{isNaN:dl}=Ee;function ml(n){let e,t;return e=new il({}),{c(){j(e.$$.fragment)},m(l,a){U(e,l,a),t=!0},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function hl(n){let e,t;return e=new sl({}),{c(){j(e.$$.fragment)},m(l,a){U(e,l,a),t=!0},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function bl(n){let e,t;return e=new Ye({}),{c(){j(e.$$.fragment)},m(l,a){U(e,l,a),t=!0},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function gl(n){let e,t,l,a,o,u,b=!1,c,m=!0,r,s,i,d,C,B,V,D,w,A=fe(n[5])+"",X,K,I=fe(n[6])+"",L,k,S,h,$,ee,Y,R,te,oe;function re(){cancelAnimationFrame(c),t.paused||(c=Pe(re),b=!0),n[15].call(t)}const ie=[bl,hl,ml],W=[];function ue(v,P){return v[5]===v[6]?0:v[7]?1:2}return B=ue(n),V=W[B]=ie[B](n),Y=new ol({}),{c(){e=F("div"),t=F("video"),l=F("track"),s=O(),i=F("div"),d=F("div"),C=F("span"),V.c(),D=O(),w=F("span"),X=ae(A),K=ae(" / "),L=ae(I),k=O(),S=F("progress"),$=O(),ee=F("div"),j(Y.$$.fragment),f(l,"kind","captions"),se(l.src,a=n[1])||f(l,"src",a),l.default=!0,se(t.src,o=n[0])||f(t,"src",o),f(t,"preload","auto"),f(t,"data-testid",u=`${n[4]}-player`),f(t,"class","svelte-1voqrms"),n[6]===void 0&&je(()=>n[16].call(t)),me(t,"mirror",n[2]),f(C,"class","icon svelte-1voqrms"),f(w,"class","time svelte-1voqrms"),S.value=h=n[5]/n[6]||0,f(S,"class","svelte-1voqrms"),f(ee,"class","icon svelte-1voqrms"),f(d,"class","inner svelte-1voqrms"),f(i,"class","controls svelte-1voqrms"),f(e,"class","wrap svelte-1voqrms")},m(v,P){T(v,e,P),N(e,t),N(t,l),n[18](t),N(e,s),N(e,i),N(i,d),N(d,C),W[B].m(C,null),N(d,D),N(d,w),N(w,X),N(w,K),N(w,L),N(d,k),N(d,S),N(d,$),N(d,ee),U(Y,ee,null),R=!0,te||(oe=[z(t,"click",n[10]),z(t,"play",n[13]),z(t,"pause",n[14]),z(t,"ended",n[12]),z(t,"timeupdate",re),z(t,"durationchange",n[16]),z(t,"play",n[17]),z(t,"pause",n[17]),Ue(r=cl.call(null,t,{autoplay:n[3]})),z(C,"click",n[10]),z(S,"mousemove",n[9]),z(S,"touchmove",he(n[9])),z(S,"click",Me(he(n[11]))),z(ee,"click",n[19])],te=!0)},p(v,[P]){(!R||P&2&&!se(l.src,a=v[1]))&&f(l,"src",a),(!R||P&1&&!se(t.src,o=v[0]))&&f(t,"src",o),(!R||P&16&&u!==(u=`${v[4]}-player`))&&f(t,"data-testid",u),!b&&P&32&&!dl(v[5])&&(t.currentTime=v[5]),b=!1,P&128&&m!==(m=v[7])&&t[m?"pause":"play"](),r&&Se(r.update)&&P&8&&r.update.call(null,{autoplay:v[3]}),(!R||P&4)&&me(t,"mirror",v[2]);let ne=B;B=ue(v),B!==ne&&(G(),p(W[ne],1,1,()=>{W[ne]=null}),Q(),V=W[B],V||(V=W[B]=ie[B](v),V.c()),g(V,1),V.m(C,null)),(!R||P&32)&&A!==(A=fe(v[5])+"")&&_e(X,A),(!R||P&64)&&I!==(I=fe(v[6])+"")&&_e(L,I),(!R||P&96&&h!==(h=v[5]/v[6]||0))&&(S.value=h)},i(v){R||(g(V),g(Y.$$.fragment,v),R=!0)},o(v){p(V),p(Y.$$.fragment,v),R=!1},d(v){v&&q(e),n[18](null),W[B].d(),M(Y),te=!1,Ce(oe)}}}function fe(n){if(isNaN(n)||!isFinite(n))return"...";const e=Math.floor(n/60);let t=Math.floor(n%60);return n<10&&(t=`0${t}`),`${e}:${t}`}function wl(n,e,t){let{src:l}=e,{subtitle:a=null}=e,{mirror:o}=e,{autoplay:u}=e,{label:b="test"}=e;const c=ce();let m=0,r,s=!0,i;function d(k){if(!r)return;if(k.type==="click"){B(k);return}if(k.type!=="touchmove"&&!(k.buttons&1))return;const S=k.type==="touchmove"?k.touches[0].clientX:k.clientX,{left:h,right:$}=k.currentTarget.getBoundingClientRect();t(5,m=r*(S-h)/($-h))}async function C(){document.fullscreenElement!=i&&(i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>i.HAVE_CURRENT_DATA?i.pause():await i.play())}function B(k){const{left:S,right:h}=k.currentTarget.getBoundingClientRect();t(5,m=r*(k.clientX-S)/(h-S))}function V(){c("stop"),c("end")}function D(k){y.call(this,n,k)}function w(k){y.call(this,n,k)}function A(){m=this.currentTime,t(5,m)}function X(){r=this.duration,t(6,r)}function K(){s=this.paused,t(7,s)}function I(k){ve[k?"unshift":"push"](()=>{i=k,t(8,i)})}const L=()=>i.requestFullscreen();return n.$$set=k=>{"src"in k&&t(0,l=k.src),"subtitle"in k&&t(1,a=k.subtitle),"mirror"in k&&t(2,o=k.mirror),"autoplay"in k&&t(3,u=k.autoplay),"label"in k&&t(4,b=k.label)},[l,a,o,u,b,m,r,s,i,d,C,B,V,D,w,A,X,K,I,L]}class Be extends Z{constructor(e){super(),x(this,e,wl,gl,J,{src:0,subtitle:1,mirror:2,autoplay:3,label:4})}}function kl(n){let e,t,l,a,o,u,b;e=new Qe({}),e.$on("clear",n[11]);const c=[yl,vl],m=[];function r(s,i){return l==null&&(l=!!_l()),l?0:s[0].size?1:-1}return~(a=r(n))&&(o=m[a]=c[a](n)),{c(){j(e.$$.fragment),t=O(),o&&o.c(),u=le()},m(s,i){U(e,s,i),T(s,t,i),~a&&m[a].m(s,i),T(s,u,i),b=!0},p(s,i){let d=a;a=r(s),a===d?~a&&m[a].p(s,i):(o&&(G(),p(m[d],1,1,()=>{m[d]=null}),Q()),~a?(o=m[a],o?o.p(s,i):(o=m[a]=c[a](s),o.c()),g(o,1),o.m(u.parentNode,u)):o=null)},i(s){b||(g(e.$$.fragment,s),g(o),b=!0)},o(s){p(e.$$.fragment,s),p(o),b=!1},d(s){s&&(q(t),q(u)),M(e,s),~a&&m[a].d(s)}}}function pl(n){let e,t,l,a;const o=[Nl,Bl],u=[];function b(c,m){return c[2]==="upload"?0:c[2]==="webcam"?1:-1}return~(e=b(n))&&(t=u[e]=o[e](n)),{c(){t&&t.c(),l=le()},m(c,m){~e&&u[e].m(c,m),T(c,l,m),a=!0},p(c,m){let r=e;e=b(c),e===r?~e&&u[e].p(c,m):(t&&(G(),p(u[r],1,1,()=>{u[r]=null}),Q()),~e?(t=u[e],t?t.p(c,m):(t=u[e]=o[e](c),t.c()),g(t,1),t.m(l.parentNode,l)):t=null)},i(c){a||(g(t),a=!0)},o(c){p(t),a=!1},d(c){c&&q(l),~e&&u[e].d(c)}}}function vl(n){let e,t=n[0].name+"",l,a,o,u=ge(n[0].size)+"",b;return{c(){e=F("div"),l=ae(t),a=O(),o=F("div"),b=ae(u),f(e,"class","file-name svelte-a6ruol"),f(o,"class","file-size svelte-a6ruol")},m(c,m){T(c,e,m),N(e,l),T(c,a,m),T(c,o,m),N(o,b)},p(c,m){m&1&&t!==(t=c[0].name+"")&&_e(l,t),m&1&&u!==(u=ge(c[0].size)+"")&&_e(b,u)},i:E,o:E,d(c){c&&(q(e),q(a),q(o))}}}function yl(n){let e=n[0]?.data,t,l,a=we(n);return{c(){a.c(),t=le()},m(o,u){a.m(o,u),T(o,t,u),l=!0},p(o,u){u&1&&J(e,e=o[0]?.data)?(G(),p(a,1,1,E),Q(),a=we(o),a.c(),g(a,1),a.m(t.parentNode,t)):a.p(o,u)},i(o){l||(g(a),l=!0)},o(o){p(a),l=!1},d(o){o&&q(t),a.d(o)}}}function we(n){let e,t;return e=new Be({props:{autoplay:n[7],src:n[0].data,subtitle:n[1]?.data,mirror:n[5]&&n[2]==="webcam",label:n[3]}}),e.$on("play",n[18]),e.$on("pause",n[19]),e.$on("stop",n[20]),e.$on("end",n[21]),{c(){j(e.$$.fragment)},m(l,a){U(e,l,a),t=!0},p(l,a){const o={};a&128&&(o.autoplay=l[7]),a&1&&(o.src=l[0].data),a&2&&(o.subtitle=l[1]?.data),a&36&&(o.mirror=l[5]&&l[2]==="webcam"),a&8&&(o.label=l[3]),e.$set(o)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Bl(n){let e,t;return e=new Ze({props:{mirror_webcam:n[5],include_audio:n[6],mode:"video"}}),e.$on("error",n[14]),e.$on("capture",n[15]),e.$on("start_recording",n[16]),e.$on("stop_recording",n[17]),{c(){j(e.$$.fragment)},m(l,a){U(e,l,a),t=!0},p(l,a){const o={};a&32&&(o.mirror_webcam=l[5]),a&64&&(o.include_audio=l[6]),e.$set(o)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Nl(n){let e,t,l;function a(u){n[13](u)}let o={filetype:"video/x-m4v,video/*",$$slots:{default:[Vl]},$$scope:{ctx:n}};return n[8]!==void 0&&(o.dragging=n[8]),e=new Ge({props:o}),ve.push(()=>Re(e,"dragging",a)),e.$on("load",n[10]),{c(){j(e.$$.fragment)},m(u,b){U(e,u,b),l=!0},p(u,b){const c={};b&4194304&&(c.$$scope={dirty:b,ctx:u}),!t&&b&256&&(t=!0,c.dragging=u[8],ze(()=>t=!1)),e.$set(c)},i(u){l||(g(e.$$.fragment,u),l=!0)},o(u){p(e.$$.fragment,u),l=!1},d(u){M(e,u)}}}function Vl(n){let e;const t=n[12].default,l=Fe(t,n,n[22],null);return{c(){l&&l.c()},m(a,o){l&&l.m(a,o),e=!0},p(a,o){l&&l.p&&(!e||o&4194304)&&Ae(l,t,a,a[22],e?Ie(t,a[22],o,null):De(a[22]),null)},i(a){e||(g(l,a),e=!0)},o(a){p(l,a),e=!1},d(a){l&&l.d(a)}}}function Tl(n){let e,t,l,a,o,u;e=new ye({props:{show_label:n[4],Icon:de,label:n[3]||"Video"}});const b=[pl,kl],c=[];function m(r,s){return r[0]===null?0:1}return l=m(n),a=c[l]=b[l](n),{c(){j(e.$$.fragment),t=O(),a.c(),o=le()},m(r,s){U(e,r,s),T(r,t,s),c[l].m(r,s),T(r,o,s),u=!0},p(r,[s]){const i={};s&16&&(i.show_label=r[4]),s&8&&(i.label=r[3]||"Video"),e.$set(i);let d=l;l=m(r),l===d?c[l].p(r,s):(G(),p(c[d],1,1,()=>{c[d]=null}),Q(),a=c[l],a?a.p(r,s):(a=c[l]=b[l](r),a.c()),g(a,1),a.m(o.parentNode,o))},i(r){u||(g(e.$$.fragment,r),g(a),u=!0)},o(r){p(e.$$.fragment,r),p(a),u=!1},d(r){r&&(q(t),q(o)),M(e,r),c[l].d(r)}}}function ql(n,e,t){let{$$slots:l={},$$scope:a}=e,{value:o=null}=e,{subtitle:u=null}=e,{source:b}=e,{label:c=void 0}=e,{show_label:m=!0}=e,{mirror_webcam:r=!1}=e,{include_audio:s}=e,{autoplay:i}=e;const d=ce();function C({detail:h}){d("change",h),d("upload",h),t(0,o=h)}function B({detail:h}){t(0,o=null),d("change",h),d("clear")}let V=!1;function D(h){V=h,t(8,V)}function w(h){y.call(this,n,h)}const A=({detail:h})=>d("change",h);function X(h){y.call(this,n,h)}function K(h){y.call(this,n,h)}function I(h){y.call(this,n,h)}function L(h){y.call(this,n,h)}function k(h){y.call(this,n,h)}function S(h){y.call(this,n,h)}return n.$$set=h=>{"value"in h&&t(0,o=h.value),"subtitle"in h&&t(1,u=h.subtitle),"source"in h&&t(2,b=h.source),"label"in h&&t(3,c=h.label),"show_label"in h&&t(4,m=h.show_label),"mirror_webcam"in h&&t(5,r=h.mirror_webcam),"include_audio"in h&&t(6,s=h.include_audio),"autoplay"in h&&t(7,i=h.autoplay),"$$scope"in h&&t(22,a=h.$$scope)},n.$$.update=()=>{n.$$.dirty&256&&d("drag",V)},[o,u,b,c,m,r,s,i,V,d,C,B,l,D,w,A,X,K,I,L,k,S,a]}let jl=class extends Z{constructor(e){super(),x(this,e,ql,Tl,J,{value:0,subtitle:1,source:2,label:3,show_label:4,mirror_webcam:5,include_audio:6,autoplay:7})}};function Ul(n){let e=n[0].data,t,l,a,o,u,b,c,m,r=ke(n);o=new xe({props:{Icon:tl,label:"Download"}});let s=n[5]&&pe(n);return{c(){r.c(),t=O(),l=F("div"),a=F("a"),j(o.$$.fragment),c=O(),s&&s.c(),f(a,"href",u=n[0].data),f(a,"target",window.__is_colab__?"_blank":null),f(a,"download",b=n[0].orig_name||n[0].name),f(l,"class","icon-buttons svelte-rvdo70"),f(l,"data-testid","download-div")},m(i,d){r.m(i,d),T(i,t,d),T(i,l,d),N(l,a),U(o,a,null),N(l,c),s&&s.m(l,null),m=!0},p(i,d){d&1&&J(e,e=i[0].data)?(G(),p(r,1,1,E),Q(),r=ke(i),r.c(),g(r,1),r.m(t.parentNode,t)):r.p(i,d),(!m||d&1&&u!==(u=i[0].data))&&f(a,"href",u),(!m||d&1&&b!==(b=i[0].orig_name||i[0].name))&&f(a,"download",b),i[5]?s?(s.p(i,d),d&32&&g(s,1)):(s=pe(i),s.c(),g(s,1),s.m(l,null)):s&&(G(),p(s,1,1,()=>{s=null}),Q())},i(i){m||(g(r),g(o.$$.fragment,i),g(s),m=!0)},o(i){p(r),p(o.$$.fragment,i),p(s),m=!1},d(i){i&&(q(t),q(l)),r.d(i),M(o),s&&s.d()}}}function Ml(n){let e,t;return e=new $e({props:{unpadded_box:!0,size:"large",$$slots:{default:[Sl]},$$scope:{ctx:n}}}),{c(){j(e.$$.fragment)},m(l,a){U(e,l,a),t=!0},p(l,a){const o={};a&32768&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function ke(n){let e,t;return e=new Be({props:{src:n[0].data,subtitle:n[1]?.data,autoplay:n[4],mirror:!1,label:n[2]}}),e.$on("play",n[6]),e.$on("pause",n[7]),e.$on("ended",n[8]),{c(){j(e.$$.fragment)},m(l,a){U(e,l,a),t=!0},p(l,a){const o={};a&1&&(o.src=l[0].data),a&2&&(o.subtitle=l[1]?.data),a&16&&(o.autoplay=l[4]),a&4&&(o.label=l[2]),e.$set(o)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function pe(n){let e,t;return e=new ll({props:{value:n[0],formatter:n[9]}}),e.$on("error",n[10]),e.$on("share",n[11]),{c(){j(e.$$.fragment)},m(l,a){U(e,l,a),t=!0},p(l,a){const o={};a&1&&(o.value=l[0]),e.$set(o)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Sl(n){let e,t;return e=new de({}),{c(){j(e.$$.fragment)},m(l,a){U(e,l,a),t=!0},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Cl(n){let e,t,l,a,o,u;e=new ye({props:{show_label:n[3],Icon:de,label:n[2]||"Video"}});const b=[Ml,Ul],c=[];function m(r,s){return r[0]===null?0:1}return l=m(n),a=c[l]=b[l](n),{c(){j(e.$$.fragment),t=O(),a.c(),o=le()},m(r,s){U(e,r,s),T(r,t,s),c[l].m(r,s),T(r,o,s),u=!0},p(r,[s]){const i={};s&8&&(i.show_label=r[3]),s&4&&(i.label=r[2]||"Video"),e.$set(i);let d=l;l=m(r),l===d?c[l].p(r,s):(G(),p(c[d],1,1,()=>{c[d]=null}),Q(),a=c[l],a?a.p(r,s):(a=c[l]=b[l](r),a.c()),g(a,1),a.m(o.parentNode,o))},i(r){u||(g(e.$$.fragment,r),g(a),u=!0)},o(r){p(e.$$.fragment,r),p(a),u=!1},d(r){r&&(q(t),q(o)),M(e,r),c[l].d(r)}}}function El(n,e,t){let{value:l=null}=e,{subtitle:a=null}=e,{label:o=void 0}=e,{show_label:u=!0}=e,{autoplay:b}=e,{show_share_button:c=!0}=e,m=null,r=null;const s=ce();Oe(async()=>{l!==m&&a!==r&&r!==null&&(m=l,t(0,l=null),await Xe(),t(0,l=m)),m=l,r=a});function i(w){y.call(this,n,w)}function d(w){y.call(this,n,w)}function C(w){y.call(this,n,w)}const B=async w=>w?await el(w.data,"url"):"";function V(w){y.call(this,n,w)}function D(w){y.call(this,n,w)}return n.$$set=w=>{"value"in w&&t(0,l=w.value),"subtitle"in w&&t(1,a=w.subtitle),"label"in w&&t(2,o=w.label),"show_label"in w&&t(3,u=w.show_label),"autoplay"in w&&t(4,b=w.autoplay),"show_share_button"in w&&t(5,c=w.show_share_button)},n.$$.update=()=>{n.$$.dirty&1&&l&&s("change",l)},[l,a,o,u,b,c,i,d,C,B,V,D]}class Pl extends Z{constructor(e){super(),x(this,e,El,Cl,J,{value:0,subtitle:1,label:2,show_label:3,autoplay:4,show_share_button:5})}}function Rl(n){let e,t;return e=new jl({props:{value:n[18],subtitle:n[19],label:n[5],show_label:n[7],source:n[6],mirror_webcam:n[10],include_audio:n[11],autoplay:n[16],$$slots:{default:[Fl]},$$scope:{ctx:n}}}),e.$on("change",n[21]),e.$on("drag",n[30]),e.$on("error",n[31]),e.$on("clear",n[32]),e.$on("play",n[33]),e.$on("pause",n[34]),e.$on("upload",n[35]),e.$on("stop",n[36]),e.$on("end",n[37]),e.$on("start_recording",n[38]),e.$on("stop_recording",n[39]),{c(){j(e.$$.fragment)},m(l,a){U(e,l,a),t=!0},p(l,a){const o={};a[0]&262144&&(o.value=l[18]),a[0]&524288&&(o.subtitle=l[19]),a[0]&32&&(o.label=l[5]),a[0]&128&&(o.show_label=l[7]),a[0]&64&&(o.source=l[6]),a[0]&1024&&(o.mirror_webcam=l[10]),a[0]&2048&&(o.include_audio=l[11]),a[0]&65536&&(o.autoplay=l[16]),a[1]&1024&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function zl(n){let e,t;return e=new Pl({props:{value:n[18],subtitle:n[19],label:n[5],show_label:n[7],autoplay:n[16],show_share_button:n[17]}}),e.$on("play",n[25]),e.$on("pause",n[26]),e.$on("stop",n[27]),e.$on("share",n[28]),e.$on("error",n[29]),{c(){j(e.$$.fragment)},m(l,a){U(e,l,a),t=!0},p(l,a){const o={};a[0]&262144&&(o.value=l[18]),a[0]&524288&&(o.subtitle=l[19]),a[0]&32&&(o.label=l[5]),a[0]&128&&(o.show_label=l[7]),a[0]&65536&&(o.autoplay=l[16]),a[0]&131072&&(o.show_share_button=l[17]),e.$set(o)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Fl(n){let e,t;return e=new nl({props:{type:"video"}}),{c(){j(e.$$.fragment)},m(l,a){U(e,l,a),t=!0},p:E,i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Al(n){let e,t,l,a,o,u;const b=[n[1]];let c={};for(let i=0;i<b.length;i+=1)c=Le(c,b[i]);e=new He({props:c});const m=[zl,Rl],r=[];function s(i,d){return i[15]==="static"?0:1}return l=s(n),a=r[l]=m[l](n),{c(){j(e.$$.fragment),t=O(),a.c(),o=le()},m(i,d){U(e,i,d),T(i,t,d),r[l].m(i,d),T(i,o,d),u=!0},p(i,d){const C=d[0]&2?Je(b,[Ke(i[1])]):{};e.$set(C);let B=l;l=s(i),l===B?r[l].p(i,d):(G(),p(r[B],1,1,()=>{r[B]=null}),Q(),a=r[l],a?a.p(i,d):(a=r[l]=m[l](i),a.c()),g(a,1),a.m(o.parentNode,o))},i(i){u||(g(e.$$.fragment,i),g(a),u=!0)},o(i){p(e.$$.fragment,i),p(a),u=!1},d(i){i&&(q(t),q(o)),M(e,i),r[l].d(i)}}}function Dl(n){let e,t;return e=new We({props:{visible:n[4],variant:n[15]==="dynamic"&&n[0]===null&&n[6]==="upload"?"dashed":"solid",border_mode:n[20]?"focus":"base",padding:!1,elem_id:n[2],elem_classes:n[3],height:n[8],width:n[9],container:n[12],scale:n[13],min_width:n[14],allow_overflow:!1,$$slots:{default:[Al]},$$scope:{ctx:n}}}),{c(){j(e.$$.fragment)},m(l,a){U(e,l,a),t=!0},p(l,a){const o={};a[0]&16&&(o.visible=l[4]),a[0]&32833&&(o.variant=l[15]==="dynamic"&&l[0]===null&&l[6]==="upload"?"dashed":"solid"),a[0]&1048576&&(o.border_mode=l[20]?"focus":"base"),a[0]&4&&(o.elem_id=l[2]),a[0]&8&&(o.elem_classes=l[3]),a[0]&256&&(o.height=l[8]),a[0]&512&&(o.width=l[9]),a[0]&4096&&(o.container=l[12]),a[0]&8192&&(o.scale=l[13]),a[0]&16384&&(o.min_width=l[14]),a[0]&2067682|a[1]&1024&&(o.$$scope={dirty:a,ctx:l}),e.$set(o)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Il(n,e,t){let{elem_id:l=""}=e,{elem_classes:a=[]}=e,{visible:o=!0}=e,{value:u=null}=e,b=null,{label:c}=e,{source:m}=e,{root:r}=e,{root_url:s}=e,{show_label:i}=e,{loading_status:d}=e,{height:C}=e,{width:B}=e,{mirror_webcam:V}=e,{include_audio:D}=e,{container:w=!1}=e,{scale:A=null}=e,{min_width:X=void 0}=e,{mode:K}=e,{autoplay:I=!1}=e,{show_share_button:L=!0}=e,k=null,S=null,h=!1;const $=ce();function ee({detail:_}){_!=null?t(0,u=[_,null]):t(0,u=null),$("change")}function Y(_){y.call(this,n,_)}function R(_){y.call(this,n,_)}function te(_){y.call(this,n,_)}function oe(_){y.call(this,n,_)}function re(_){y.call(this,n,_)}const ie=({detail:_})=>t(20,h=_),W=({detail:_})=>{t(1,d=d||{}),t(1,d.status="error",d),t(1,d.message=_,d)};function ue(_){y.call(this,n,_)}function v(_){y.call(this,n,_)}function P(_){y.call(this,n,_)}function ne(_){y.call(this,n,_)}function Ne(_){y.call(this,n,_)}function Ve(_){y.call(this,n,_)}function Te(_){y.call(this,n,_)}function qe(_){y.call(this,n,_)}return n.$$set=_=>{"elem_id"in _&&t(2,l=_.elem_id),"elem_classes"in _&&t(3,a=_.elem_classes),"visible"in _&&t(4,o=_.visible),"value"in _&&t(0,u=_.value),"label"in _&&t(5,c=_.label),"source"in _&&t(6,m=_.source),"root"in _&&t(22,r=_.root),"root_url"in _&&t(23,s=_.root_url),"show_label"in _&&t(7,i=_.show_label),"loading_status"in _&&t(1,d=_.loading_status),"height"in _&&t(8,C=_.height),"width"in _&&t(9,B=_.width),"mirror_webcam"in _&&t(10,V=_.mirror_webcam),"include_audio"in _&&t(11,D=_.include_audio),"container"in _&&t(12,w=_.container),"scale"in _&&t(13,A=_.scale),"min_width"in _&&t(14,X=_.min_width),"mode"in _&&t(15,K=_.mode),"autoplay"in _&&t(16,I=_.autoplay),"show_share_button"in _&&t(17,L=_.show_share_button)},n.$$.update=()=>{n.$$.dirty[0]&12582913&&(u!=null?(t(18,k=be(u[0],r,s)),t(19,S=be(u[1],r,s))):(t(18,k=null),t(19,S=null))),n.$$.dirty[0]&16777217&&JSON.stringify(u)!==JSON.stringify(b)&&(t(24,b=u),$("change"))},[u,d,l,a,o,c,m,i,C,B,V,D,w,A,X,K,I,L,k,S,h,ee,r,s,b,Y,R,te,oe,re,ie,W,ue,v,P,ne,Ne,Ve,Te,qe]}class Ol extends Z{constructor(e){super(),x(this,e,Il,Dl,J,{elem_id:2,elem_classes:3,visible:4,value:0,label:5,source:6,root:22,root_url:23,show_label:7,loading_status:1,height:8,width:9,mirror_webcam:10,include_audio:11,container:12,scale:13,min_width:14,mode:15,autoplay:16,show_share_button:17},null,[-1,-1])}}const tt=Ol,nt=["static","dynamic"],at=n=>({type:{input_payload:"{ name: string; data: string }",response_object:"{ name: string; data: string, is_file: boolean }"},description:{input_payload:"object with file name and base64 data",response_object:"object that includes path to video file. The URL: {ROOT}file={name} contains the data"}});export{tt as Component,at as document,nt as modes};
//# sourceMappingURL=index-63dfab13.js.map
