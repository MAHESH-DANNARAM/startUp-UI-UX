import{S as F,e as G,s as J,J as Z,K as _,p as k,M as w,n as A,A as v,N as T,B as ae,av as P,G as N,O as C,V as K,P as I,R as q,Q as S,a1 as ue,U as j,L,k as O,o as V,z as H,v as M,x as z,E as _e,ae as me,m as de,q as ge,r as he,u as Q,y as U,F as be}from"./index-f877dfd5.js";import{g as ke}from"./color-4b6a4814.js";import{B as ve}from"./Button-11a87b79.js";import{B as pe}from"./BlockLabel-7929e88d.js";import{E as we}from"./Empty-2159e5e9.js";function ye(t){let e,n,l;return{c(){e=Z("svg"),n=Z("path"),l=Z("path"),_(n,"fill","currentColor"),_(n,"d","M12 15H5a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5V5a1 1 0 0 0-1-1H3V2h6a3 3 0 0 1 3 3zM5 9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5V9zm15 14v2a1 1 0 0 0 1 1h5v-4h-5a1 1 0 0 0-1 1z"),_(l,"fill","currentColor"),_(l,"d","M2 30h28V2Zm26-2h-7a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5v-2a1 1 0 0 0-1-1h-6v-2h6a3 3 0 0 1 3 3Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),_(e,"aria-hidden","true"),_(e,"role","img"),_(e,"class","iconify iconify--carbon"),_(e,"width","100%"),_(e,"height","100%"),_(e,"preserveAspectRatio","xMidYMid meet"),_(e,"viewBox","0 0 32 32")},m(s,a){k(s,e,a),w(e,n),w(e,l)},p:A,i:A,o:A,d(s){s&&v(e)}}}class oe extends F{constructor(e){super(),G(this,e,null,ye,J,{})}}function Y(t,e,n){const l=t.slice();l[18]=e[n][0],l[24]=e[n][1];const s=typeof l[24]=="string"?parseInt(l[24]):l[24];return l[25]=s,l}function W(t,e,n){const l=t.slice();return l[18]=e[n][0],l[19]=e[n][1],l[21]=n,l}function X(t,e,n){const l=t.slice();return l[19]=e[n][0],l[22]=e[n][1],l[21]=n,l}function He(t){let e,n,l=t[1]&&x(),s=N(t[0]),a=[];for(let o=0;o<s.length;o+=1)a[o]=$(Y(t,s,o));return{c(){l&&l.c(),e=C(),n=T("div");for(let o=0;o<a.length;o+=1)a[o].c();_(n,"class","textfield svelte-19on2m6"),_(n,"data-testid","highlighted-text:textfield")},m(o,r){l&&l.m(o,r),k(o,e,r),k(o,n,r);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(n,null)},p(o,r){if(o[1]?l||(l=x(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),r&1){s=N(o[0]);let i;for(i=0;i<s.length;i+=1){const f=Y(o,s,i);a[i]?a[i].p(f,r):(a[i]=$(f),a[i].c(),a[i].m(n,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=s.length}},d(o){o&&(v(e),v(n)),l&&l.d(o),K(a,o)}}}function Te(t){let e,n,l=t[1]&&ee(t),s=N(t[0]),a=[];for(let o=0;o<s.length;o+=1)a[o]=ne(W(t,s,o));return{c(){l&&l.c(),e=C(),n=T("div");for(let o=0;o<a.length;o+=1)a[o].c();_(n,"class","textfield svelte-19on2m6")},m(o,r){l&&l.m(o,r),k(o,e,r),k(o,n,r);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(n,null)},p(o,r){if(o[1]?l?l.p(o,r):(l=ee(o),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),r&95){s=N(o[0]);let i;for(i=0;i<s.length;i+=1){const f=W(o,s,i);a[i]?a[i].p(f,r):(a[i]=ne(f),a[i].c(),a[i].m(n,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=s.length}},d(o){o&&(v(e),v(n)),l&&l.d(o),K(a,o)}}}function x(t){let e;return{c(){e=T("div"),e.innerHTML="<span>-1</span> <span>0</span> <span>+1</span>",_(e,"class","color-legend svelte-19on2m6"),_(e,"data-testid","highlighted-text:color-legend")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function $(t){let e,n,l=t[18]+"",s,a,o;return{c(){e=T("span"),n=T("span"),s=I(l),a=C(),_(n,"class","text svelte-19on2m6"),_(e,"class","textspan score-text svelte-19on2m6"),_(e,"style",o="background-color: rgba("+(t[25]<0?"128, 90, 213,"+-t[25]:"239, 68, 60,"+t[25])+")")},m(r,i){k(r,e,i),w(e,n),w(n,s),w(e,a)},p(r,i){i&1&&l!==(l=r[18]+"")&&q(s,l),i&1&&o!==(o="background-color: rgba("+(r[25]<0?"128, 90, 213,"+-r[25]:"239, 68, 60,"+r[25])+")")&&_(e,"style",o)},d(r){r&&v(e)}}}function ee(t){let e,n=N(Object.entries(t[3])),l=[];for(let s=0;s<n.length;s+=1)l[s]=le(X(t,n,s));return{c(){e=T("div");for(let s=0;s<l.length;s+=1)l[s].c();_(e,"class","category-legend svelte-19on2m6"),_(e,"data-testid","highlighted-text:category-legend")},m(s,a){k(s,e,a);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(s,a){if(a&392){n=N(Object.entries(s[3]));let o;for(o=0;o<n.length;o+=1){const r=X(s,n,o);l[o]?l[o].p(r,a):(l[o]=le(r),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(s){s&&v(e),K(l,s)}}}function le(t){let e,n=t[19]+"",l,s,a,o,r;function i(){return t[10](t[19])}function f(){return t[11](t[19])}return{c(){e=T("div"),l=I(n),s=C(),_(e,"class","category-label svelte-19on2m6"),_(e,"style",a="background-color:"+t[22].secondary)},m(u,b){k(u,e,b),w(e,l),w(e,s),o||(r=[S(e,"mouseover",i),S(e,"focus",f),S(e,"mouseout",t[12]),S(e,"blur",t[13])],o=!0)},p(u,b){t=u,b&8&&n!==(n=t[19]+"")&&q(l,n),b&8&&a!==(a="background-color:"+t[22].secondary)&&_(e,"style",a)},d(u){u&&v(e),o=!1,ue(r)}}}function te(t){let e,n,l=t[19]+"",s;return{c(){e=I(`Â 
						`),n=T("span"),s=I(l),_(n,"class","label svelte-19on2m6"),L(n,"background-color",t[19]===null||t[4]&&t[4]!==t[19]?"":t[3][t[19]].primary)},m(a,o){k(a,e,o),k(a,n,o),w(n,s)},p(a,o){o&1&&l!==(l=a[19]+"")&&q(s,l),o&25&&L(n,"background-color",a[19]===null||a[4]&&a[4]!==a[19]?"":a[3][a[19]].primary)},d(a){a&&(v(e),v(n))}}}function ne(t){let e,n,l=t[18]+"",s,a,o,r,i,f=!t[1]&&t[19]!==null&&te(t);function u(){return t[14](t[21],t[18],t[19])}return{c(){e=T("span"),n=T("span"),s=I(l),a=C(),f&&f.c(),o=C(),_(n,"class","text svelte-19on2m6"),j(n,"no-label",!t[3][t[19]]),_(e,"class","textspan svelte-19on2m6"),j(e,"no-cat",t[19]===null||t[4]&&t[4]!==t[19]),j(e,"hl",t[19]!==null),j(e,"selectable",t[2]),L(e,"background-color",t[19]===null||t[4]&&t[4]!==t[19]?"":t[3][t[19]].secondary)},m(b,d){k(b,e,d),w(e,n),w(n,s),w(e,a),f&&f.m(e,null),w(e,o),r||(i=S(e,"click",u),r=!0)},p(b,d){t=b,d&1&&l!==(l=t[18]+"")&&q(s,l),d&9&&j(n,"no-label",!t[3][t[19]]),!t[1]&&t[19]!==null?f?f.p(t,d):(f=te(t),f.c(),f.m(e,o)):f&&(f.d(1),f=null),d&17&&j(e,"no-cat",t[19]===null||t[4]&&t[4]!==t[19]),d&1&&j(e,"hl",t[19]!==null),d&4&&j(e,"selectable",t[2]),d&25&&L(e,"background-color",t[19]===null||t[4]&&t[4]!==t[19]?"":t[3][t[19]].secondary)},d(b){b&&v(e),f&&f.d(),r=!1,i()}}}function Me(t){let e;function n(a,o){return a[5]==="categories"?Te:He}let l=n(t),s=l(t);return{c(){e=T("div"),s.c(),_(e,"class","container svelte-19on2m6")},m(a,o){k(a,e,o),s.m(e,null)},p(a,[o]){l===(l=n(a))&&s?s.p(a,o):(s.d(1),s=l(a),s&&(s.c(),s.m(e,null)))},i:A,o:A,d(a){a&&v(e),s.d()}}}function Be(t,e,n){const l=typeof document<"u";let{value:s=[]}=e,{show_legend:a=!1}=e,{color_map:o={}}=e,{selectable:r=!1}=e,i,f={},u="";function b(h,p){if(!i){var y=document.createElement("canvas");i=y.getContext("2d")}i.fillStyle=h,i.fillRect(0,0,1,1);const[D,fe,ce]=i.getImageData(0,0,1,1).data;return i.clearRect(0,0,1,1),`rgba(${D}, ${fe}, ${ce}, ${255/p})`}const d=ae();let B;function c(h){n(4,u=h)}function g(){n(4,u="")}const R=h=>c(h),E=h=>c(h),m=()=>g(),ie=()=>g(),re=(h,p,y)=>{d("select",{index:h,value:[p,y]})};return t.$$set=h=>{"value"in h&&n(0,s=h.value),"show_legend"in h&&n(1,a=h.show_legend),"color_map"in h&&n(9,o=h.color_map),"selectable"in h&&n(2,r=h.selectable)},t.$$.update=()=>{if(t.$$.dirty&513){let h=function(){for(const p in o){const y=o[p].trim();y in P?n(3,f[p]=P[y],f):n(3,f[p]={primary:l?b(o[p],1):o[p],secondary:l?b(o[p],.5):o[p]},f)}};if(o||n(9,o={}),s.length>0){for(let[p,y]of s)if(y!==null)if(typeof y=="string"){if(n(5,B="categories"),!(y in o)){let D=ke(Object.keys(o).length);n(9,o[y]=D,o)}}else n(5,B="scores")}h()}},[s,a,r,f,u,B,d,c,g,o,R,E,m,ie,re]}class je extends F{constructor(e){super(),G(this,e,Be,Me,J,{value:0,show_legend:1,color_map:9,selectable:2})}}function se(t){let e,n;return e=new pe({props:{Icon:oe,label:t[6],float:!1,disable:t[7]===!1}}),{c(){O(e.$$.fragment)},m(l,s){V(e,l,s),n=!0},p(l,s){const a={};s&64&&(a.label=l[6]),s&128&&(a.disable=l[7]===!1),e.$set(a)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Ce(t){let e,n;return e=new we({props:{$$slots:{default:[Ne]},$$scope:{ctx:t}}}),{c(){O(e.$$.fragment)},m(l,s){V(e,l,s),n=!0},p(l,s){const a={};s&32768&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Ee(t){let e,n;return e=new je({props:{selectable:t[10],value:t[4],show_legend:t[5],color_map:t[0]}}),e.$on("select",t[13]),{c(){O(e.$$.fragment)},m(l,s){V(e,l,s),n=!0},p(l,s){const a={};s&1024&&(a.selectable=l[10]),s&16&&(a.value=l[4]),s&32&&(a.show_legend=l[5]),s&1&&(a.color_map=l[0]),e.$set(a)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Ne(t){let e,n;return e=new oe({}),{c(){O(e.$$.fragment)},m(l,s){V(e,l,s),n=!0},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Oe(t){let e,n,l,s,a,o,r;const i=[t[11]];let f={};for(let c=0;c<i.length;c+=1)f=_e(f,i[c]);e=new me({props:f});let u=t[6]&&se(t);const b=[Ee,Ce],d=[];function B(c,g){return c[4]?0:1}return s=B(t),a=d[s]=b[s](t),{c(){O(e.$$.fragment),n=C(),u&&u.c(),l=C(),a.c(),o=de()},m(c,g){V(e,c,g),k(c,n,g),u&&u.m(c,g),k(c,l,g),d[s].m(c,g),k(c,o,g),r=!0},p(c,g){const R=g&2048?ge(i,[he(c[11])]):{};e.$set(R),c[6]?u?(u.p(c,g),g&64&&H(u,1)):(u=se(c),u.c(),H(u,1),u.m(l.parentNode,l)):u&&(Q(),M(u,1,1,()=>{u=null}),U());let E=s;s=B(c),s===E?d[s].p(c,g):(Q(),M(d[E],1,1,()=>{d[E]=null}),U(),a=d[s],a?a.p(c,g):(a=d[s]=b[s](c),a.c()),H(a,1),a.m(o.parentNode,o))},i(c){r||(H(e.$$.fragment,c),H(u),H(a),r=!0)},o(c){M(e.$$.fragment,c),M(u),M(a),r=!1},d(c){c&&(v(n),v(l),v(o)),z(e,c),u&&u.d(c),d[s].d(c)}}}function Ve(t){let e,n;return e=new ve({props:{test_id:"highlighted-text",visible:t[3],elem_id:t[1],elem_classes:t[2],padding:!1,container:t[7],scale:t[8],min_width:t[9],$$slots:{default:[Oe]},$$scope:{ctx:t}}}),{c(){O(e.$$.fragment)},m(l,s){V(e,l,s),n=!0},p(l,[s]){const a={};s&8&&(a.visible=l[3]),s&2&&(a.elem_id=l[1]),s&4&&(a.elem_classes=l[2]),s&128&&(a.container=l[7]),s&256&&(a.scale=l[8]),s&512&&(a.min_width=l[9]),s&36081&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function ze(t,e,n){let{elem_id:l=""}=e,{elem_classes:s=[]}=e,{visible:a=!0}=e,{value:o}=e,r,{show_legend:i}=e,{color_map:f={}}=e,{label:u="Highlighted Text"}=e,{container:b=!1}=e,{scale:d=null}=e,{min_width:B=void 0}=e,{selectable:c=!1}=e,{loading_status:g}=e;const R=ae();function E(m){be.call(this,t,m)}return t.$$set=m=>{"elem_id"in m&&n(1,l=m.elem_id),"elem_classes"in m&&n(2,s=m.elem_classes),"visible"in m&&n(3,a=m.visible),"value"in m&&n(4,o=m.value),"show_legend"in m&&n(5,i=m.show_legend),"color_map"in m&&n(0,f=m.color_map),"label"in m&&n(6,u=m.label),"container"in m&&n(7,b=m.container),"scale"in m&&n(8,d=m.scale),"min_width"in m&&n(9,B=m.min_width),"selectable"in m&&n(10,c=m.selectable),"loading_status"in m&&n(11,g=m.loading_status)},t.$$.update=()=>{t.$$.dirty&1&&!f&&Object.keys(f).length&&n(0,f),t.$$.dirty&4112&&o!==r&&(n(12,r=o),R("change"))},[f,l,s,a,o,i,u,b,d,B,c,g,r,E]}class Re extends F{constructor(e){super(),G(this,e,ze,Ve,J,{elem_id:1,elem_classes:2,visible:3,value:4,show_legend:5,color_map:0,label:6,container:7,scale:8,min_width:9,selectable:10,loading_status:11})}}const De=Re,Ze=["static"],Fe=t=>({type:{payload:"Array<[string, string | number]>"},description:{payload:"list of text spans and corresponding label / value"}});export{De as Component,Fe as document,Ze as modes};
//# sourceMappingURL=index-e4680786.js.map
